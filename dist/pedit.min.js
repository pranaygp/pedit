"use strict";function u2k(t){var e=t;return e.match(/^www\./)&&(e=e.substring(4)),e=e.replace(/\./g,"(dot)"),e=e.replace(/\//g,"(slash)")}function getAllElementsWithAttribute(t){for(var e=[],a=document.getElementsByTagName("*"),n=0,r=a.length;n<r;n++)null!==a[n].getAttribute(t)&&e.push(a[n]);return e}function replaceDataInDOM(t){if(null!=t)for(var e=getAllElementsWithAttribute("data-pedit"),a=0;a<e.length;a++)e[a].innerHTML=void 0==t[e[a].getAttribute("data-pedit")]?e[a].innerHTML:t[e[a].getAttribute("data-pedit")]}function init(){var t=new XMLHttpRequest;t.open("GET","http://pedit.firebaseio.com/"+host+"/content.json"),t.send(null),t.onreadystatechange=function(){var e=4,a=200;if(t.readyState===e)if(t.status===a){var n=JSON.parse(t.responseText);replaceDataInDOM(n),"undefined"!=typeof Storage&&localStorage.setItem("peditData",t.responseText)}else console.log("Error: "+t.status)}}"undefined"!=typeof Storage&&replaceDataInDOM(JSON.parse(localStorage.getItem("peditData")));var host=u2k(document.location.hostname);init();